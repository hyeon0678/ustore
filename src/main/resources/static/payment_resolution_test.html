<!DOCTYPE html>
<html lang="ko">
	<!--begin::Head-->
	<head>
		<title>UStore</title>
		<meta charset="utf-8" />
		<meta name="description" content="Craft admin dashboard live demo. Check out all the features of the admin panel. A large number of settings, additional services and widgets." />
		<meta name="keywords" content="Craft, bootstrap, bootstrap 5, admin themes, dark mode, free admin themes, bootstrap admin, bootstrap dashboard" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="canonical" href="https://preview.keenthemes.com/craft" />
		<link rel="shortcut icon" href="/resource/assets/media/logos/favicon.ico" />
		<!--begin::Fonts(mandatory for all pages)-->
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700" />
		<!--end::Fonts-->
		<!--begin::Vendor Stylesheets(used for this page only)-->
		<link href="/resource/assets/plugins/custom/leaflet/leaflet.bundle.css" rel="stylesheet" type="text/css" />
		<link href="/resource/assets/plugins/custom/datatables/datatables.bundle.css" rel="stylesheet" type="text/css" />
		<!--end::Vendor Stylesheets-->
		<!--begin::Global Stylesheets Bundle(mandatory for all pages)-->
		<!-- <link href="assets/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
		<link href="assets/css/style.bundle.css" rel="stylesheet" type="text/css" /> -->
		<!--end::Global Stylesheets Bundle-->
		<style>
			.signature-table {
            float: right;
            margin-left: 20px;
			}
			.signature-table td {
				border: 1px solid #ddd;
				padding: 10px;
				text-align: center;
				width: 80px;
			}
		</style>
	</head>
	<!--end::Head-->
	<!--begin::Body-->
	<body id="kt_body" class="header-fixed header-tablet-and-mobile-fixed toolbar-enabled aside-fixed aside-default-enabled">
	
		<!--begin::Card-->
		<div class="card">
			<!--begin::Card header-->
			<div class="card-header border-0 pt-6" style="display: flex; justify-content: center; align-items: center; margin: 30px;">
				<!-- begin::Card toolbar -->
				<div class="card-toolbar" style="text-align: center;">
					<!--begin::Toolbar-->
					<div class="d-flex justify-content-center" data-kt-user-table-toolbar="base">
						<h1 style="font-size: 36px;">대&nbsp;금&nbsp;지&nbsp;급&nbsp;결&nbsp;의&nbsp;서</h1>							
					</div>
					<!--end::Toolbar-->							
				</div>
				<!--end::Card toolbar-->
			</div>
			<!--end::Card header-->
			<!--begin::Card body-->
			<div class="card-body py-4">
				<div class="d-flex justify-content-end mb-4" style="margin-bottom: 30px;">
					<!-- 결재자 테이블 -->
					<table class="signature-table mr-3" id="apprListTable">
					  <tr id="approverRow">
					  </tr>
					  <tr style="height: 80px;">
					  </tr>
					</table>
				</div>
				<!--begin::Input group-->
				<div class="input-group mb-5" style="margin-top: 20px;">
					<span class="input-group-text flex-grow-1" id="inputGroup-sizing-default" style="width: 20%;">수신자</span>
					<input type="text" id="inputReceiver" class="form-control flex-grow-1" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" style="width: 80%;"/>
				</div>
				<!--end::Input group-->
				<!--begin::Input group-->
				<div class="input-group mb-5">
					<span class="input-group-text flex-grow-1" id="inputGroup-sizing-default" style="width: 20%;">제목</span>
					<input type="text" name="subject" id="inputSubject" class="form-control flex-grow-1" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" style="width: 80%;"/>
				</div>
				<!--end::Input group-->										

				<div class="input-group mb-5" style="margin-top: 20px;">
					<span class="input-group-text" id="inputGroup-sizing-default" style="width: 20%;">발주번호&nbsp;&nbsp;
						<button type="button" class="btn btn-light-primary btn-sm mt-2 me-2" data-bs-toggle="modal" data-bs-target="#kt_modal_2">검색</button>	
					</span>											
					<input type="text" id="orderNum" name="orderNum" class="form-control flex-grow-1" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default"/>
				</div>
				
				<div class="table-responsive">											
					<table class="table table-rounded table-striped border gy-7 gs-7">		
						<thead>
							<tr class="fw-semibold fs-6 text-gray-800 border-bottom border-gray-200">
								<th style="font-weight: 600;">번호</th>
								<th style="font-weight: 600;">품명</th>
								<th style="font-weight: 600;">수량</th>
								<th style="font-weight: 600;">단가</th>
								<th style="font-weight: 600;">금액</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>1</td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
							</tr>
							<tr>
								<td>2</td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
							</tr>
						</tbody>
						<tr>
							<td colspan="4" style="text-align: center; font-weight: 600;">합 계 금 액</td>
							<td></td>
						</tr>
					</table>
				</div>
				<!--begin::Form 파일첨부 -->
				<form class="form" action="#" method="post">
					<!--begin::Input group-->
					<div class="form-group row">
						<!--begin::Label-->
						<label class="col-lg-2 col-form-label text-lg-right">파일첨부 :</label>
						<!--end::Label-->

						<!--begin::Col-->
						<div class="col-lg-10">
							<!--begin::Dropzone-->
							<div class="dropzone dropzone-queue mb-2" id="kt_dropzonejs_example_2">
								<!--begin::Controls-->
								<div class="dropzone-panel mb-lg-0 mb-2">
									<a class="dropzone-select btn btn-sm btn-primary me-2">Attach files</a>
									<a class="dropzone-upload btn btn-sm btn-light-primary me-2">Upload All</a>
									<a class="dropzone-remove-all btn btn-sm btn-light-primary">Remove All</a>
								</div>
								<!--end::Controls-->

								<!--begin::Items-->
								<div class="dropzone-items wm-200px">
									<div class="dropzone-item" style="display:none">
										<!--begin::File-->
										<div class="dropzone-file">
											<div class="dropzone-filename" title="some_image_file_name.jpg">
												<span data-dz-name>some_image_file_name.jpg</span>
												<strong>(<span data-dz-size>340kb</span>)</strong>
											</div>

											<div class="dropzone-error" data-dz-errormessage></div>
										</div>
										<!--end::File-->

										<!--begin::Progress-->
										<div class="dropzone-progress">
											<div class="progress">
												<div
													class="progress-bar bg-primary"
													role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" data-dz-uploadprogress>
												</div>
											</div>
										</div>
										<!--end::Progress-->

										<!--begin::Toolbar-->
										<div class="dropzone-toolbar">
											<span class="dropzone-start"><i class="bi bi-play-fill fs-3"></i></span>
											<span class="dropzone-cancel" data-dz-remove style="display: none;"><i class="bi bi-x fs-3"></i></span>
											<span class="dropzone-delete" data-dz-remove><i class="bi bi-x fs-1"></i></span>
										</div>
										<!--end::Toolbar-->
									</div>
								</div>
								<!--end::Items-->
							</div>
							<!--end::Dropzone-->

							<!--begin::Hint-->
							<span class="form-text text-muted">파일 개당 최대 크기 10MB, 5개 제한.</span>
							<!--end::Hint-->
						</div>
						<!--end::Col-->
					</div>
					<!--end::Input group-->
				</form>
				<!--end::Form 파일첨부 -->							
			</div>
		</div>
	
		<!--begin::modal-->
		<div class="modal fade" tabindex="-1" id="kt_modal_2" role="dialog">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="modal-title">발주번호 검색</h3>
						<!--begin::Close-->
						<div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal" aria-label="Close">
							<i class="ki-duotone ki-cross fs-1"><span class="path1"></span><span class="path2"></span></i>
						</div>
						<!--end::Close-->
					</div>

					<div class="modal-body">
						<div class="mb-0 row" style="margin: 10px;">
							<div class="col-3 d-flex align-items-center">
								<label class="form-label" mb-0>날짜선택</label>
							</div>
							<div class="col-9 col-md-8">
								<input class="form-control form-control-solid" placeholder="Pick date range" id="kt_daterangepicker_3"/>
							</div>
						</div><hr>
						<div class="table-responsive">
							<table class="table table-bordered">
								<thead>
									<tr class="fw-bold fs-6 text-gray-800">
										<th>발주일자</th>
										<th>발주번호</th>
										<th>발주부서</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td></td>
										<td>
											<a href="" class="text-gray-800 text-hover-primary mb-1">${orderNo}</a>
										</td>
										<td></td>
									</tr>
								</tbody>								
							</table>
						</div>						
					</div>

					<div class="modal-footer" style="display: flex; justify-content: center;">
						<button type="button" class="btn btn-primary">저장</button>
					</div>
				</div>
			</div>
		</div>
		<!--end::modal-->
								
		<!--begin::Javascript-->
		<!--begin::Global Javascript Bundle(mandatory for all pages)-->
		<!-- <script src="assets/plugins/global/plugins.bundle.js"></script>
		<script src="assets/js/scripts.bundle.js"></script> -->
		<!--end::Global Javascript Bundle-->
		<!--end::Javascript-->
	</body>
	<!--end::Body-->
	<script>		
		$(document).ready(function(){
			$('#kt_modal_2').on('shown.bs.modal', function(){
				$("#kt_daterangepicker_3").daterangepicker({
					singleDatePicker: true,
					showDropdowns: true,
					minYear: 1901,
					maxYear: parseInt(moment().format("YYYY"),12)
				});
			});
		});


		// set the dropzone container id
		const id = "#kt_dropzonejs_example_2";
		const dropzone = document.querySelector(id);

		// set the preview element template
		var previewNode = dropzone.querySelector(".dropzone-item");
		previewNode.id = "";
		var previewTemplate = previewNode.parentNode.innerHTML;
		previewNode.parentNode.removeChild(previewNode);

		var myDropzone = new Dropzone(id, { // Make the whole body a dropzone
			url: "https://keenthemes.com/scripts/void.php", // Set the url for your upload script location
			parallelUploads: 20,
			previewTemplate: previewTemplate,
			maxFilesize: 10, // Max filesize in MB
			autoQueue: false, // Make sure the files aren't queued until manually added
			previewsContainer: id + " .dropzone-items", // Define the container to display the previews
			clickable: id + " .dropzone-select" // Define the element that should be used as click trigger to select files.
		});

		myDropzone.on("addedfile", function (file) {
			// Hookup the start button
			file.previewElement.querySelector(id + " .dropzone-start").onclick = function () { myDropzone.enqueueFile(file); };
			const dropzoneItems = dropzone.querySelectorAll('.dropzone-item');
			dropzoneItems.forEach(dropzoneItem => {
				dropzoneItem.style.display = '';
			});
			dropzone.querySelector('.dropzone-upload').style.display = "inline-block";
			dropzone.querySelector('.dropzone-remove-all').style.display = "inline-block";
		});

		// Update the total progress bar
		myDropzone.on("totaluploadprogress", function (progress) {
			const progressBars = dropzone.querySelectorAll('.progress-bar');
			progressBars.forEach(progressBar => {
				progressBar.style.width = progress + "%";
			});
		});

		myDropzone.on("sending", function (file) {
			// Show the total progress bar when upload starts
			const progressBars = dropzone.querySelectorAll('.progress-bar');
			progressBars.forEach(progressBar => {
				progressBar.style.opacity = "1";
			});
			// And disable the start button
			file.previewElement.querySelector(id + " .dropzone-start").setAttribute("disabled", "disabled");
		});

		// Hide the total progress bar when nothing's uploading anymore
		myDropzone.on("complete", function (progress) {
			const progressBars = dropzone.querySelectorAll('.dz-complete');

			setTimeout(function () {
				progressBars.forEach(progressBar => {
					progressBar.querySelector('.progress-bar').style.opacity = "0";
					progressBar.querySelector('.progress').style.opacity = "0";
					progressBar.querySelector('.dropzone-start').style.opacity = "0";
				});
			}, 300);
		});

		// Setup the buttons for all transfers
		dropzone.querySelector(".dropzone-upload").addEventListener('click', function () {
			myDropzone.enqueueFiles(myDropzone.getFilesWithStatus(Dropzone.ADDED));
		});

		// Setup the button for remove all files
		dropzone.querySelector(".dropzone-remove-all").addEventListener('click', function () {
			dropzone.querySelector('.dropzone-upload').style.display = "none";
			dropzone.querySelector('.dropzone-remove-all').style.display = "none";
			myDropzone.removeAllFiles(true);
		});

		// On all files completed upload
		myDropzone.on("queuecomplete", function (progress) {
			const uploadIcons = dropzone.querySelectorAll('.dropzone-upload');
			uploadIcons.forEach(uploadIcon => {
				uploadIcon.style.display = "none";
			});
		});

		// On all files removed
		myDropzone.on("removedfile", function (file) {
			if (myDropzone.files.length < 1) {
				dropzone.querySelector('.dropzone-upload').style.display = "none";
				dropzone.querySelector('.dropzone-remove-all').style.display = "none";
			}
		});
	</script>
</html>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ustore.employee.dao.EmpProfileDao">

<insert id="addevent" parameterType="EmpProrileDto">
insert into schedule(
	emp_idx
	, sch_start_date
	, sch_end_date
	, sch_content
	, sch_subject
	, sch_start_time 
	, sch_end_time 
	, sch_type 
	, reg_by
	)
	values(
	#{emp_idx}
	, #{event_start_date}
	, #{event_end_date}
	, #{calendar_event_description}
	, #{calendar_event_name}
	, #{event_start_time}
	, #{event_end_time}
	, #{schedule_type}
	, #{emp_idx}
	)
</insert>

<insert id="addalarmevent" parameterType="EmpProrileDto">
insert into alarm(
	emp_idx
	, alarm_subject
	, alarm_content
	, alarm_datetime
	, url
	)
	values(
	#{emp_idx}
	, #{alarm_subject}
	, #{alarm_content}
	, #{event_end_time}
	, '/employee/home'
	)
</insert>

<select id="profilecalendar" resultType="Map" parameterType="String">
	select * from schedule 
</select>

<insert id="attendance" parameterType="EmpProrileDto">
insert into schedule(
	emp_idx
	, sch_start_date
	, sch_end_date
	, sch_content
	, sch_subject
	, sch_start_time 
	, sch_end_time 
	, sch_type 
	, reg_by
	)
	values(
	#{emp_idx}
	, #{event_start_date}
	, #{event_start_date}
	, '출근'
	, '출근'
	, #{event_start_time}
	, #{event_start_time}
	, 12
	, #{emp_idx}
	)
</insert>

<insert id="leavework" parameterType="EmpProrileDto">
insert into schedule(
	emp_idx
	, sch_start_date
	, sch_end_date
	, sch_content
	, sch_subject
	, sch_start_time 
	, sch_end_time 
	, sch_type 
	, reg_by
	)
	values(
	#{emp_idx}
	, #{event_start_date}
	, #{event_start_date}
	, '퇴근'
	, '퇴근'
	, #{event_start_time}
	, #{event_start_time}
	, 13
	, #{emp_idx}
	)
</insert>

<delete id="employeDel">
	DELETE FROM schedule WHERE sch_idx = #{param1}
</delete>

<delete id="scheduleDel">
	DELETE FROM schedule WHERE sch_idx = #{param1}
</delete>



</mapper>